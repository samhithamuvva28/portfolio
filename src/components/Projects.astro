
---
import Section from "./Section.astro";
import catelytics from "../assets/catelytics.png";
import pulsenet from "../assets/pulsenet.png";

const slugMap = {
  React: "react",
  "Node.js": "nodedotjs",
  PostgreSQL: "postgresql",
  Python: "python",
  FastAPI: "fastapi",
  Docker: "docker",
  Astro: "astro",
  Tailwind: "tailwindcss",
  TypeScript: "typescript",
  "Apache Spark": "apachespark",
  Databricks: "databricks",
  AWS: "amazonaws",
  Weaviate: "weaviate",
  NumPy: "numpy",
  Pandas: "pandas",
  BigQuery: "googlebigquery",
  Tableau: "tableau",
};

const iconUrl = (name: string) => `https://cdn.simpleicons.org/${slugMap[name] ?? name.toLowerCase()}`;

const projects = [
  {
    id: "catelytics",
    title: "Catelytics: A Review-Driven Categorization",
    href: "https://github.com/samhithamuvva28/CateLytics",
    image: catelytics.src,
    techs: ["Python", "Apache Spark", "Databricks", "AWS", "Weaviate"],
    bullets: [
      "Distributed data processing with Apache Spark on Databricks",
      "Vector search and retrieval with Weaviate",
      "AWS-based infrastructure and data orchestration",
    ],
  },
  {
    id: "PulseNet",
    title: "PulseNet:Problematic Internet Usage in Children",
    href: "https://github.com/samhithamuvva28/PulseNet",
    image: pulsenet.src,
    techs: ["Python", "NumPy", "Pandas"],
    bullets: [
      "FastAPI microservice architecture",
      "Dockerized with multi-stage builds",
      "Async I/O and typed endpoints",
    ],
  },
  {
    id: "PolitiCast",
    title: "PolitiCast : Election Analytics Data Pipeline",
    href: "https://github.com/samhithamuvva28/PolitiCast",
    image: "https://via.placeholder.com/800x600?text=PolitiCast",
    techs: ["AWS", "BigQuery","SQL", "Tableau", "Python"],
    bullets: [
      "Static-first site with islands",
      "Accessible components",
      "Image optimization",
    ],
  },
  {
    id: "pocket ranger",
    title: "EmbeddingGemma: Pocket Ranger",
    href: "https://github.com/samhithamuvva28/PocketRanger_EmbeddingGemma",
    image: "https://via.placeholder.com/800x600?text=Project+Four",
    techs: ["Python", "FAISS", "Gradio","API Endpoints"],
    bullets: [
      "Component library with Storybook",
      "Unit tests with Jest/RTL",
      "Tree-shaking friendly",
    ],
  },
  {
    id: "LDM",
    title: "Visual Learning Assitant using Latent Diffusion",
    href: "https://github.com/samhithamuvva28/Visual_Learning_Assitant_LDM",
    image: "https://via.placeholder.com/800x600?text=Project+Five",
    techs: ["Python", "Docker"],
    bullets: [
      "ETL pipeline with retries",
      "Containerized workers",
      "Structured logging",
    ],
  },
  {
    id: "llm fine-tuning",
    title: "Fine-Tuning of Large Language Models: A Comparative Analysis",
    href: "https://github.com/samhithamuvva28/Dis-Easify_Deployment",
    image: "https://via.placeholder.com/800x600?text=Project+Six",
    techs: ["Node.js", "PostgreSQL"],
    bullets: [
      "Queue-based processing",
      "Transactional writes",
      "Metrics and alerts",
    ],
  },
];
---
<Section id="projects" title="Some of My Work">
  <div class="mt-6 grid gap-6 sm:grid-cols-2 lg:grid-cols-3 mx-auto">
    {projects.map((p) => (
      <div class="group block overflow-hidden rounded-xl border border-zinc-200 bg-white">
        <div class="aspect-[4/3] overflow-hidden bg-zinc-100">
          <img src={p.image} alt={p.title} class="h-full w-full object-cover transition-transform duration-300 group-hover:scale-105" loading="lazy" decoding="async" />
        </div>
        <div class="p-4">
          <h3 class="font-semibold text-center">{p.title}</h3>
          <div class="mt-3 flex flex-wrap items-center justify-center gap-2">
            {p.techs.map((t) => (
              <span class="inline-flex items-center gap-1 rounded-md bg-zinc-100 px-2 py-0.5 text-xs text-zinc-700">
                {slugMap[t] && (
                  <img src={iconUrl(t)} alt={`${t} logo`} width="16" height="16" class="inline-block h-4 w-4 align-middle object-contain shrink-0" loading="lazy" decoding="async" onerror="this.style.display='none'" />
                )}
                {t}
              </span>
            ))}
          </div>
          <div class="mt-4 flex items-center justify-center">
            <a href={p.href} target="_blank" rel="noopener noreferrer" class="rounded-md bg-[#15543c] px-3 py-1.5 text-sm text-white hover:opacity-90">GitHub</a>
          </div>
        </div>
      </div>
    ))}
  </div>
</Section>

<style is:global>
  section#projects > h2 { text-align: left; }
  section#projects > div { margin-left: auto; margin-right: auto; }
  @media (min-width: 1024px) {
    section#projects > div { max-width: 72rem; }
  }
</style>

