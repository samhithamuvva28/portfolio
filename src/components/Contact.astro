
---
import Section from "./Section.astro";
---
<Section id="contact" title="">
  <div class="mx-auto max-w-lg px-4 md:px-6 text-center">
    <div class="text-lg md:text-xl font-semibold tracking-wide">LET'S CONNECT</div>
    <form id="contact-form" class="mt-5 space-y-4 text-left">
<div class="flex justify-center">
  <div class="w-full max-w-md">
    <label for="name" class="block text-sm font-medium text-zinc-700">
      Name
    </label>
    <input
      id="name"
      name="name"
      type="text"
      required
      class="mt-1 block w-full rounded-md border border-zinc-300 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-[#15543c]"
    />
  </div>
</div>

      <div class="flex justify-center">
        <div class="w-full max-w-md">
          <label for="email" class="block text-sm font-medium text-zinc-700">Email</label>
          <input id="email" name="email" type="email" required class="mt-1 block w-full rounded-md border border-zinc-300 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-[#15543c]" />
        </div>
      </div>
      <div class="flex justify-center">
        <div class="w-full max-w-md">
          <label for="message" class="block text-sm font-medium text-zinc-700">Message</label>
          <textarea id="message" name="message" rows="4" required class="mt-1 block w-full rounded-md border border-zinc-300 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-[#15543c]"></textarea>
        </div>
      </div>
      <div class="text-center">
        <button type="submit" class="inline-flex items-center justify-center rounded-md bg-[#15543c] px-4 py-2 text-white hover:opacity-90">Send</button>
      </div>
    </form>
  </div>
  <script is:inline>
    (function(){
      const form = document.getElementById('contact-form');
      if(!form) return;
      form.addEventListener('submit', (e) => {
        e.preventDefault();
        const fd = new FormData(form);
        const name = String(fd.get('name') || '').trim();
        const email = String(fd.get('email') || '').trim();
        const message = String(fd.get('message') || '').trim();
        const to = 'samhithamuvva28@gmail.com';
        const subject = encodeURIComponent(name ? `Message from ${name}` : 'Portfolio Contact');
        const body = encodeURIComponent(`From: ${name}\nEmail: ${email}\n\n${message}`);
        const mailto = `mailto:${to}?subject=${subject}&body=${body}`;
        window.location.href = mailto;
      });
    })();
  </script>
</Section>

<style is:global>
  /* Hide the default Section heading so only the custom centered title shows */
  section#contact > h2 { display: none; }
</style>
